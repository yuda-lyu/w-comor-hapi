/*!
 * w-comor-hapi-client v1.0.34
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("axios")):"function"==typeof define&&define.amd?define(["axios"],n):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-comor-hapi-client"]=n(t.axios)}(this,(function(t){"use strict";var n=Array.isArray,r="object"==typeof global&&global&&global.Object===Object&&global,e="object"==typeof self&&self&&self.Object===Object&&self,o=r||e||Function("return this")(),i=o.Symbol,u=Object.prototype,a=u.hasOwnProperty,c=u.toString,l=i?i.toStringTag:void 0;var f=Object.prototype.toString;var s="[object Null]",p="[object Undefined]",h=i?i.toStringTag:void 0;function v(t){return null==t?void 0===t?p:s:h&&h in Object(t)?function(t){var n=a.call(t,l),r=t[l];try{t[l]=void 0;var e=!0}catch(t){}var o=c.call(t);return e&&(n?t[l]=r:delete t[l]),o}(t):function(t){return f.call(t)}(t)}var y="[object Symbol]";function d(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&v(t)==y}var _=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,b=/^\w*$/;function g(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}var j="[object AsyncFunction]",m="[object Function]",O="[object GeneratorFunction]",w="[object Proxy]";var S,z=o["__core-js_shared__"],$=(S=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"";var P=Function.prototype.toString;var x=/^\[object .+?Constructor\]$/,F=Function.prototype,T=Object.prototype,A=F.toString,N=T.hasOwnProperty,k=RegExp("^"+A.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function C(t){if(!g(t)||(n=t,$&&$ in n))return!1;var n,r=function(t){if(!g(t))return!1;var n=v(t);return n==m||n==O||n==j||n==w}(t)?k:x;return r.test(function(t){if(null!=t){try{return P.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function E(t,n){var r=function(t,n){return null==t?void 0:t[n]}(t,n);return C(r)?r:void 0}var M=E(Object,"create");var I=Object.prototype.hasOwnProperty;var R=Object.prototype.hasOwnProperty;function q(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function G(t,n){return t===n||t!=t&&n!=n}function U(t,n){for(var r=t.length;r--;)if(G(t[r][0],n))return r;return-1}q.prototype.clear=function(){this.__data__=M?M(null):{},this.size=0},q.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},q.prototype.get=function(t){var n=this.__data__;if(M){var r=n[t];return"__lodash_hash_undefined__"===r?void 0:r}return I.call(n,t)?n[t]:void 0},q.prototype.has=function(t){var n=this.__data__;return M?void 0!==n[t]:R.call(n,t)},q.prototype.set=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=M&&void 0===n?"__lodash_hash_undefined__":n,this};var B=Array.prototype.splice;function D(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}D.prototype.clear=function(){this.__data__=[],this.size=0},D.prototype.delete=function(t){var n=this.__data__,r=U(n,t);return!(r<0)&&(r==n.length-1?n.pop():B.call(n,r,1),--this.size,!0)},D.prototype.get=function(t){var n=this.__data__,r=U(n,t);return r<0?void 0:n[r][1]},D.prototype.has=function(t){return U(this.__data__,t)>-1},D.prototype.set=function(t,n){var r=this.__data__,e=U(r,t);return e<0?(++this.size,r.push([t,n])):r[e][1]=n,this};var H=E(o,"Map");function J(t,n){var r,e,o=t.__data__;return("string"==(e=typeof(r=n))||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==r:null===r)?o["string"==typeof n?"string":"hash"]:o.map}function K(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}K.prototype.clear=function(){this.size=0,this.__data__={hash:new q,map:new(H||D),string:new q}},K.prototype.delete=function(t){var n=J(this,t).delete(t);return this.size-=n?1:0,n},K.prototype.get=function(t){return J(this,t).get(t)},K.prototype.has=function(t){return J(this,t).has(t)},K.prototype.set=function(t,n){var r=J(this,t),e=r.size;return r.set(t,n),this.size+=r.size==e?0:1,this};var L="Expected a function";function Q(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError(L);var r=function(){var e=arguments,o=n?n.apply(this,e):e[0],i=r.cache;if(i.has(o))return i.get(o);var u=t.apply(this,e);return r.cache=i.set(o,u)||i,u};return r.cache=new(Q.Cache||K),r}Q.Cache=K;var V,W,X,Y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Z=/\\(\\)?/g,tt=(V=function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(Y,(function(t,r,e,o){n.push(e?o.replace(Z,"$1"):r||t)})),n},W=Q(V,(function(t){return 500===X.size&&X.clear(),t})),X=W.cache,W),nt=tt;var rt=1/0,et=i?i.prototype:void 0,ot=et?et.toString:void 0;function it(t){if("string"==typeof t)return t;if(n(t))return function(t,n){for(var r=-1,e=null==t?0:t.length,o=Array(e);++r<e;)o[r]=n(t[r],r,t);return o}(t,it)+"";if(d(t))return ot?ot.call(t):"";var r=t+"";return"0"==r&&1/t==-rt?"-0":r}function ut(t){return null==t?"":it(t)}function at(t,r){return n(t)?t:function(t,r){if(n(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!d(t))||b.test(t)||!_.test(t)||null!=r&&t in Object(r)}(t,r)?[t]:nt(ut(t))}var ct=1/0;function lt(t){if("string"==typeof t||d(t))return t;var n=t+"";return"0"==n&&1/t==-ct?"-0":n}function ft(t,n,r){var e=null==t?void 0:function(t,n){for(var r=0,e=(n=at(n,t)).length;null!=t&&r<e;)t=t[lt(n[r++])];return r&&r==e?t:void 0}(t,n);return void 0===e?r:e}var st=function(){try{var t=E(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),pt=st;var ht=Object.prototype.hasOwnProperty;function vt(t,n,r){var e=t[n];ht.call(t,n)&&G(e,r)&&(void 0!==r||n in t)||function(t,n,r){"__proto__"==n&&pt?pt(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r}(t,n,r)}var yt=9007199254740991,dt=/^(?:0|[1-9]\d*)$/;function _t(t,n){var r=typeof t;return!!(n=null==n?yt:n)&&("number"==r||"symbol"!=r&&dt.test(t))&&t>-1&&t%1==0&&t<n}function bt(t,n,r){return null==t?t:function(t,n,r,e){if(!g(t))return t;for(var o=-1,i=(n=at(n,t)).length,u=i-1,a=t;null!=a&&++o<i;){var c=lt(n[o]),l=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=u){var f=a[c];void 0===(l=e?e(f,c,a):void 0)&&(l=g(f)?f:_t(n[o+1])?[]:{})}vt(a,c,l),a=a[c]}return t}(t,n,r)}function gt(){let t,n,r=new Promise((function(){t=arguments[0],n=arguments[1]}));return r.resolve=t,r.reject=n,r}function jt(t){let n=Object.prototype.toString.call(t);return"[object Function]"===n||"[object AsyncFunction]"===n}function mt(t){return!(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)||""===t)}function Ot(t){let n=!1;if(mt(t))n=!isNaN(Number(t));else if(function(t){return"[object Number]"===Object.prototype.toString.call(t)}(t)){if(function(t){return t!=t}(t))return!1;n=!0}return n}function wt(t,n){return r=t,"[object Object]"===Object.prototype.toString.call(r)&&(!(!mt(n)&&!Ot(n))&&n in t);var r}var St=/\s/;var zt=/^\s+/;function $t(t){return t?t.slice(0,function(t){for(var n=t.length;n--&&St.test(t.charAt(n)););return n}(t)+1).replace(zt,""):t}var Pt=NaN,xt=/^[-+]0x[0-9a-f]+$/i,Ft=/^0b[01]+$/i,Tt=/^0o[0-7]+$/i,At=parseInt;function Nt(t){if("number"==typeof t)return t;if(d(t))return Pt;if(g(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=g(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=$t(t);var r=Ft.test(t);return r||Tt.test(t)?At(t.slice(2),r?2:8):xt.test(t)?Pt:+t}var kt=1/0,Ct=17976931348623157e292;function Et(t){return t?(t=Nt(t))===kt||t===-kt?(t<0?-1:1)*Ct:t==t?t:0:0===t?t:0}function Mt(t){var n=Et(t),r=n%1;return n==n?r?n-r:n:0}function It(t){if(!Ot(t))return 0;return Et(t)}function Rt(t){return!!Ot(t)&&(t=It(t),"number"==typeof(n=t)&&n==Mt(n));var n}var qt=o.isFinite,Gt=Math.min;var Ut=function(t){var n=Math[t];return function(t,r){if(t=Nt(t),(r=null==r?0:Gt(Mt(r),292))&&qt(t)){var e=(ut(t)+"e").split("e");return+((e=(ut(n(e[0]+"e"+(+e[1]+r)))+"e").split("e"))[0]+"e"+(+e[1]-r))}return n(t)}}("round"),Bt=Ut;function Dt(t){if(!Ot(t))return 0;t=It(t);let n=Bt(t);return"0"===String(n)?0:n}let Ht="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),Jt=Ht.length;function Kt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,n=[];var r;t=Rt(r=t)&&Dt(r)>0?Dt(t):32;for(let r=0;r<t;r++)n[r]=Ht[0|Math.random()*Jt];return n.join("")}return function(n){let r=gt(),e={},o=Kt();function i(){function i(r){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i={clientId:o,token:n.token,func:r,input:e},u="";return ft(e,"mode")&&(u=e.mode),function(r,e){let o=gt(),i={method:"POST",url:n.url,data:r};return"upload file"===e&&(i.headers={"Content-Type":"multipart/form-data"}),"download file"===e&&(i.responseType="blob"),t(i).then((function(t){o.resolve(t.data.output)})).catch((function(t){t=ft(t,"response.data")||"can not connection",o.reject(t)})),o}(i,u)}n.url||(n.url="http://localhost:8080/api"),n.token||(n.token="*"),i("getFuncs").then((function(t){if("sys"===ft(t,"sys")&&wt(t,"funcs")){let n=t.funcs;e={};for(let t=0;t<n.length;t++){let r=n[t];bt(e,r,(function(t){return i(r,t)}))}r.resolve(e)}else{let t="no funcs";jt(n.error)&&n.error(t),u()}})).catch((function(t){jt(n.error)&&n.error(t),u()}))}function u(){setTimeout((function(){jt(n.reconn)&&n.reconn(),i()}),1e3)}return i(),r}}));
//# sourceMappingURL=w-comor-hapi-client.umd.js.map
